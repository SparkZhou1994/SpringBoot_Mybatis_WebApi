<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="spark.webapi.dao.StudentDao">
	<select id="queryStudent" resultType="spark.webapi.entity.Student">
		SELECT stu_no, stu_name,
		class_no,role
		FROM student
		ORDER BY stu_no
		DESC
	</select>
	<select id="queryStudentByNo" resultType="spark.webapi.entity.Student">
		SELECT stu_no, stu_name,
		class_no,role
		FROM student
		WHERE
		stu_no=#{stuNo}
	</select>
	<insert id="insertStudent" useGeneratedKeys="true" keyProperty="stuNo"
		keyColumn="stu_no" parameterType="spark.webapi.entity.Student">
		INSERT INTO
		student(stu_name,class_no,role)
		VALUES
		(#{stuName},#{classNo},#{role})
	</insert>
	<update id="updateStudent" parameterType="spark.webapi.entity.Student">
		update student
		<set>
			<if test="stuName != null">stu_name=#{stuName},</if>
			<if test="classNo != null">classNo=#{classNo},</if>
			<if test="role != null">role=#{role}</if>
		</set>
		where stu_no=#{stuNo}
	</update>
	<delete id="deleteStudent" parameterType="int">
		DELETE FROM
		student
		WHERE
		stu_no =
		#{stuNo}
	</delete>
</mapper>
    